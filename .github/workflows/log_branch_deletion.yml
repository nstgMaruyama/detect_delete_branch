name: Log Branch Deletion and Creation

on:
  delete:      # types は指定できません
  create:      # types は指定できません
  workflow_dispatch:

jobs:
  log_deletion:
    # 削除イベントの時、かつ削除されたのが「ブランチ」である場合のみ実行
    if: github.event_name == 'delete' && github.event.ref_type == 'branch'
    runs-on: ubuntu-latest
    steps:
      - name: Log deleted branch name
        run: |
          echo "ブランチが削除されました。"
          echo "削除されたブランチ名: ${{ github.event.ref }}"
          echo "削除を実行したユーザー: ${{ github.actor }}"

  log_creation:
    # 作成イベントの時、かつ作成されたのが「ブランチ」である場合のみ実行
    if: github.event_name == 'create' && github.event.ref_type == 'branch'
    runs-on: ubuntu-latest
    steps:
      - name: Log created branch name
        run: |
          echo "ブランチが作成されました。"
          echo "作成されたブランチ名: ${{ github.event.ref }}"
          echo "作成を実行したユーザー: ${{ github.actor }}"